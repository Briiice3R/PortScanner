<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Port Scanner</title>
    <link rel="stylesheet" href="{{url_for('static',filename='src/output.css')}}">
</head>
<body class="bg-[#1B0B2D] min-h-screen flex flex-col">
    <main class="flex-1 flex flex-col">
        <div class="selectProtocol flex flex-1 justify-center items-center">
            <form class="bg-[#271042] rounded py-6 px-8" method="get">
                <h1 class="text-white text-xl font-bold text-center py-2">Port Scanner</h1>
                <h2 class="text-white text-center">Enter the host you want to scan</h2>
                <div class="text-white py-2">
                    <input class=" w-full bg-[#803ACF]/50 text-center py-1 rounded-sm" placeholder="127.0.0.1" type="text" name="host" id="host">
                </div>
                
                <h2 class="text-white py-2 text-center">Select your protocol</h2>
                <div class="flex justify-center py-2">
                    
                    <div class="flex mx-6">
                        <label class="text-white flex items-center cursor-pointer gap-2" for="tcp">
                            <input class="absolute top-[-20px] left-[-20px] pointer-events-none opacity-0 peer" type="radio" id="tcp" name="protocol" value="TCP" checked>
                            <span class="
                                w-4 h-4 border-2 border-[#803ACF] block rounded-full relative
                                peer-checked:before:opacity-100 hover:border-[#955BD7] hover:before:bg-[#955BD7]
                                before:absolute before:w-2 before:h-2 before:rounded-full before:bg-[#803ACF] before:top-1/2 before:left-1/2 before:translate-[-50%] before:opacity-0
                                ">
                            </span>
                            <span>TCP</span>
                        </label>
                    </div>
                    <div class="flex mx-6">
                        <label class="text-white flex items-center cursor-pointer gap-2 relative" for="udp">
                            <input class="absolute top-[-20px] left-[-20px] pointer-events-none opacity-0 peer" type="radio" id="udp" name="protocol" value="UDP">
                            <span class="
                                w-4 h-4 border-2 border-[#803ACF] block rounded-full relative
                                peer-checked:before:opacity-100 hover:border-[#955BD7] hover:before:bg-[#955BD7]
                                before:absolute before:w-2 before:h-2 before:rounded-full before:bg-[#803ACF] before:top-1/2 before:left-1/2 before:translate-[-50%] before:opacity-0
                                ">
                            </span>
                            <span>UDP</span>
                        </label>
                    </div>
                </div>

                <button class="text-white bg-[#803ACF] w-full mt-4 py-2 cursor-pointer rounded-sm
                hover:bg-[#955BD7]" 
                type="submit">Lancer le scan
                </button>
                <p class="text-red-400 text-xs mt-4 text-center">UDP port scanning may not be reliable</p>
            </form>
        </div>

        <div class="loader bg-[#1B0B2D]/80 w-full h-full hidden absolute ">
            <div class="flex justify-center items-center h-full">
                <svg class="size-30 animate-spin ..." viewBox="0 0 24 24">
                    <circle class="opacity-100" cx="12" cy="12" r="10" stroke="#803ACF" fill="transparent" stroke-width="4"></circle>
                    <path class="opacity-20" fill="white" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            </div>
        </div>
        
        {% if res %}
            <ul class="text-white bg-[#271042] m-4 text-center rounded-sm p-2">
                <h2 class="text-center py-2">Opened ports</h2>
                {% for port in res %}
                    <li>{{port}}</li>
                {% endfor %}
                
            </ul>
        {% endif %}
    </main>
    <footer class="bg-[#803ACF] text-white text-center py-1">Brice</footer>
    <script src="../static/js/script.js"></script>
</body>
</html>